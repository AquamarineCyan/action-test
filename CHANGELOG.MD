# Change Log

## 最新更新

### 优化

- 缩短阴阳寮突破的结界间距坐标

## v1.7.8 - 2023-09-20

### 新功能

- 新增 鼠标滚轮操作
- 新增 阴阳寮突破翻页功能

### 优化

- 移除多余资源
- 为悬赏封印的点击事件添加超时时间
- 使用固定点位依次点击5个契灵小图标
- 调整21时后寮突破的默认次数为100次
- 判断当前寮突是否有效
- 适配活动「微光之守」

## v1.7.7 - 2023-08-23

### 优化

- 优化日志记录速度
- 更新基类函数
- 道馆突破适配怀旧&简约主题
- 适配活动「真火切磋」

## v1.7.6 - 2023-07-26

### 新功能

- 新增开始/停止功能

### 优化

- 添加自动打包环境
- 优化日志操作
- 优化悬赏封印识别速度
- 统一截图保存路径
- 适配新版召唤界面
- 适配活动「守缘合战」

### Bug 修复

- 修复更新完新版本，重复识别更新包的问题
- 修复业原火重复识别结束界面的问题
- 修复个人突破无法刷新的问题
- 修复悬赏封印卡住主任务的问题

## v1.7.5 - 2023-06-28

### 新功能

- 新增单人探索测试功能
- 新增契灵-探查测试功能

### 优化

- 日志保存的时间精度
- 添加程序复用属性
- 优化配置文件
- 调整 `app` 属性
- 修改项目结构
- 简化组队御魂副本的场景提示
- 调整调试信息的时间显示
- 完善异常提醒
- 移除主界面信息显示的行数限制
- 优化契灵结契流程
- 调整设置项-`更新模式`和`下载路线`
- 适配活动「森间试炼」

### Bug 修复

- 活动卡顿引起的判定异常问题
- 修复单人御魂副本非正常结束的问题
- 修复单人探索副本无法运行的问题
- 修复单人探索副本结束后无法正确识别宝箱和妖气的问题
- 修复结界突破识别异常的问题

## v1.7.4 - 2023-05-24

### 新功能

- 添加手动重启按钮

### 优化

- 组队/单人御魂副本任务
- 修改工具类函数的导入形式
- 更新下载显示
- 御魂副本支持素材复用
- 组队永生之海副本，支持新版结算
- 结果判断逻辑，防止手快提前进入结算逻辑
- 重启函数
- 适配活动「宴场维和」

### Bug 修复

- 关闭悬赏可能导致进程卡住问题
- 设置-更新模式未生效的问题
- 组队御魂中场景判定问题
- 业原火无法挑战的问题

## v1.7.3 - 2023-04-26

### 新功能

- 更新自动重启
- 新增`Coor`坐标类
- 添加御魂副本测试项，使用新方法识别
- 新增悬赏封印关闭选项，降低程序运行功耗（需重启）
- 添加单人御魂副本测试功能

### 优化

- 默认启用镜像源下载
- 完善资源检查
- 测试用log文件夹测试完成后自动删除
- 更新「妖塔燃战」限时活动资源
- 设置界面

### Bug 修复

- 镜像源启用失败的问题
- 匹配更新包空路径的问题
- 资源检测线程问题
- `requirements.txt` 环境问题([#3](https://github.com/AquamarineCyan/Onmyoji_Python/issues/3))
- 图像文件后缀补全失败的问题

## v1.7.2 - 2023-03-26

### 破坏性更新

- 移除`update.json`，移除旧版本更新方式

### 新功能

- 对中文路径的提示
- 日志自动清理（30天）
- 更新记录
- 对组队御魂副本时司机可能出现的bug提示
- 御魂掉落统计beta

### 优化

- 配置文件的读取优先级
- 游戏窗口检测

### Bug 修复

- 潜存在的路径转义问题
- 神罚素材不全问题
- 日志文件概率乱码的问题
- utf-8异常乱码问题

## v1.7.1 - 2023-02-19

### 新功能

- 镜像下载源
- 对部分素材的路径检查

### 优化

- 任务完成的表现形式
- 系统通知保留至通知栏
- 适配神罚副本

## v1.7.0 - 2023-01-18

### 破坏性更新

- 该版本为1.7测试版
- 资源文件夹由`pic`更新为`resource`，尝试兼容旧资源文件夹

### 新功能

- 配置文件及设置

### 优化

- 悬赏封印处理方式并添加设置项

## v1.6.8 - 2022-12-24

### 优化

- 适配签到2000天奖励「鎏金圣域」

### Bug 修复

- 匹配道馆突破场景失败的提示

## v1.6.7 - 2022-11-20

### 新功能

- 系统通知
- 创建poetry打包环境

### 优化

- 项目结构
- 部分素材
- 重构日志工具包
- 删除run.bat启动方式（已实现自动获取管理员权限）
- 去除无更新时的系统通知
- 寮突破21时无限突破的提示
- 开启环境自动检测
- 回退限时活动至周年庆版本前    

## v1.6.6 - 2022-10-16

### 破坏性更新

- 更换检查更新方式，旧版代码将于`v1.7.0`作废

### 新功能

- 自动下载更新包
- 强制缩放([#1](https://github.com/AquamarineCyan/Onmyoji_Python/issues/1))
- 强制缩放及弹窗提示

### 优化

- 素材
- 限时活动单次上线
- 窗口大小匹配提示
- 寮突破次数选择上限

## v1.6.5 - 2022-09-21

### 新功能

- 管理员运行提示

### 优化

- 周年庆活动

## v1.6.4 - 2022-07-24

### 新功能

- 悬赏封印
- 检查更新

### Bug 修复

- UI

## v1.6.3 - 2022-06-22

### 新功能

- 环境文件requirements.txt
- 清理日志
- 限时活动
- 组队日轮副本

### 优化

- 召唤功能结束
- 截图功能
- 窗口信息显示方式
- 个人突破刷新逻辑

### Bug 修复

- 因呱太入侵导致的图像错位
- 更换pathlib库引发的错误

## v1.6.2 - 2022-05-22

### 新功能

- 业原火副本
- 道馆突破观战功能

### 优化

- 功能列表顺序

### Bug 修复

- 初次使用无日志时写入报错

## v1.6.1 - 2022-04-25

### 新功能
- UI界面色彩显示
- 组队永生之海副本
- 更新窗口信息功能

### 优化

- 代码冗余

## v1.6 - 2022-04-10

### 新功能

- UI界面
- 日志模块

### 优化

- 代码逻辑

## v1.5 - 2022-03-15

### 新功能

- 百鬼夜行功能
- 道馆突破功能
- 御灵功能
- 绘卷查分功能
- 错误和异常判断处理
- 部分注释说明
- 输出界面的色彩直观表达
- 功能选择的输入稳定性

### 优化
- 普通召唤的判定逻辑
- 个人结界与寮结界的相互识别跳转
- 文件处理的逻辑
- 适配键入回车默认选择
- 适配新版结算速度

## v1.4 - 2022-02-26

### 新功能

- 个人结界功能

### 优化

- 图片素材存储

## v1.3 - 2022-02-01

### 新功能

- 寮突破功能

### 优化

- 函数调用
- 御魂组队情况

## v1.2 - 2022-01-24

### 新功能

- 组队御魂功能

## v1.1

### 新功能

- 普通召唤功能